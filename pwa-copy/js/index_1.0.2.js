"use strict";(self.webpackChunkweb_template=self.webpackChunkweb_template||[]).push([[57],{724:(e,t,n)=>{var r=n(540),a=n(338);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var l={pop:1},c=(0,r.createContext)(),i=function(e){var t,n,a=e.children,i=(t=(0,r.useState)(l),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,l,c=[],i=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);i=!0);}catch(e){u=!0,a=e}finally{try{if(!i&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw a}}return c}}(t,n)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=i[0],s=i[1];return r.createElement(c.Provider,{value:{globalState:u,setGlobalState:s}},a)},u=n(976),s=n(767);const m=function(){var e=(0,s.Zp)(),t=(0,s.g)();return console.log("params",t),r.createElement("div",null,r.createElement("div",null,t.type),r.createElement("button",{onClick:function(){return e(-1)}},"back"))};function f(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,l,c=[],i=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);i=!0);}catch(e){u=!0,a=e}finally{try{if(!i&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw a}}return c}}(e,t)||p(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(e){if("string"==typeof e)return v(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const y=function(){var e=d((0,r.useState)([]),2),t=e[0],n=e[1],a=d((0,r.useState)(""),2),o=a[0],l=a[1],c=d((0,r.useState)([]),2),i=c[0],u=c[1],s=d((0,r.useState)(""),2),m=s[0],p=s[1],v=(0,r.useRef)({dataJson:[],elList:[]}).current;(0,r.useEffect)((function(){var e=localStorage.getItem("dataJson")||"[]";v.dataJson=JSON.parse(e),n(JSON.parse(e))}),[]);var y=function(){u([]),p(""),l("")},b=function(e){var n=t[e];l(n.id),u(f(n.data)),v.elList[e].scrollIntoView({behavior:"smooth",block:"center"})};return r.createElement("div",{className:"copy_box"},r.createElement("textarea",{className:"text_box",rows:"6",value:i.join("\n"),onChange:function(e){var t=e.target.value;if(0!=t.length){var n=(t.match(/\d{6}\w{12}/g)||[]).sort((function(e,t){return e<t?1:-1}));console.log("list",n),u(n),l(n[0])}else y()}}),r.createElement("div",{className:"tip_box"},r.createElement("div",null,i.length),r.createElement("div",null,m)),r.createElement("div",{className:"handle_box"},r.createElement("input",{type:"button",value:"保存",onClick:function(){if(o){var e=t.find((function(e){return e.id==o}));e?(e.data=i,e.timestamp=Date.now()):t.push({id:o,data:i,timestamp:Date.now()}),t.sort((function(e,t){return t.timestamp-e.timestamp})),n(f(t)),localStorage.setItem("dataJson",JSON.stringify(t)),y()}}}),r.createElement("input",{type:"button",value:"切换",onClick:function(){if(0!=t.length){var e=t.findIndex((function(e){return e.id==o})),n=0;e>-1&&e!=t.length-1&&(n=e+1),b(n)}}}),r.createElement("input",{type:"button",value:"剪切",onClick:function(){if(0!=i.length){var e=i.shift();!function(e){console.log("尝试复制",e);var t=document.createElement("textarea");t.readOnly="readonly",t.style.position="absolute",t.style.left="100%",t.value=e,document.body.appendChild(t),t.select();var n=document.execCommand("copy");document.body.removeChild(t),n?console.log("复制成功",n):console.log("复制失败")}(e),p(m.length>6?e.slice(0,6):e),u(f(i))}}})),r.createElement("div",{className:"data_list_box"},t.map((function(e,a){return r.createElement("div",{className:"data_item ".concat(e.id==o?"cur":""),ref:function(e){return v.elList[a]=e},key:e.id,onClick:function(){return b(a)}},r.createElement("div",{className:"info"},r.createElement("div",null,e.id),r.createElement("div",{className:"btn",onClick:function(e){return function(e,r){e.stopPropagation(),confirm("确定删除吗？")&&(t.splice(r,1),n(f(t)),localStorage.setItem("dataJson",JSON.stringify(t)))}(e,a)}},"删除")),r.createElement("div",{className:"info"},r.createElement("div",null,e.data.length),r.createElement("div",null,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1",n=new Date(+e),r=n.getFullYear(),a=n.getMonth()+1,o=a>9?a:"0"+a,l=n.getDate(),c=l>9?l:"0"+l,i=n.getHours(),u=i>9?i:"0"+i,s=n.getMinutes(),m=s>9?s:"0"+s,f=n.getSeconds(),d=f>9?f:"0"+f;switch(t){case"0":return"".concat(r,".").concat(o,".").concat(c);case"1":return"".concat(r,".").concat(o,".").concat(c," ").concat(u,":").concat(m);case"2":return"".concat(r,"-").concat(o,"-").concat(c," ").concat(u,":").concat(m,":").concat(d)}}(e.timestamp,"2"))))}))))};var b="/pwa-copy/";console.log("PUBLIC_PATH",b);var h=(0,u.Ys)([{path:"/",element:r.createElement(y,null)},{path:"/common/:type",element:r.createElement(m,null)},{path:"*",element:r.createElement(s.C5,{to:"/common/404",replace:!0})}],{basename:b}),g=n(155);function E(){return r.createElement(i,null,r.createElement(g.Popup,null),r.createElement(u.pg,{router:h}))}(0,a.H)(document.getElementById("root")).render(r.createElement(E,null))}},e=>{e.O(0,[96],(()=>e(e.s=724))),e.O()}]);